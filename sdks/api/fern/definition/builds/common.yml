# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  commons: ../common.yml

types:
  Build:
    properties:
      id: uuid
      name: string
      created_at: commons.Timestamp
      content_length:
        docs: Unsigned 64 bit integer.
        type: long
      allocation: optional<Allocation>
      resources: optional<Resources>
      tags:
        docs: Tags of this build
        type: map<string, string>

  Kind:
    enum:
      - value: docker_image
        docs: Docker image archive generated by `docker save`.
      - value: oci_bundle
        docs: OCI-compliant bundle.
      - value: javascript
        docs: A JavaScript file.

  Compression:
    enum:
      - value: none
        docs: None compression.
      - value: lz4
        docs: LZ4 compression. Use the minimum compression level.

  Allocation:
    properties:
      single: optional<AllocationSingle>
      multi: optional<AllocationMulti>
  
  AllocationSingle:
    properties: {}

  AllocationMulti:
    properties:
      slots: integer

  Resources:
    properties:
      cpu:
        docs: |
          The number of CPU cores in millicores, or 1/1000 of a core. For example,
          1/8 of a core would be 125 millicores, and 1 core would be 1000
          millicores.
        type: integer
      memory:
        docs: The amount of memory in megabytes
        type: integer