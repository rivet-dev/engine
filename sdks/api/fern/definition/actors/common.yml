# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  commons: ../common.yml
  buildCommons: ../builds/common.yml

types:
  Actor:
    properties:
      id: commons.Id
      region: string
      tags: unknown
      build: uuid
      ports: map<string, Port>
      kill_timeout:
        docs: >-
          The duration to wait for in milliseconds before force killing the actor after a DELETE request.
          This gives the actor time to perform a shutdown sequence before being killed. This should be set to
          a safe default, and can be overridden during a DELETE request if needed.
        type: optional<long>
      durable:
        docs: >-
          If true, the actor will try to reschedule itself automatically in the event of a crash or a
          datacenter failover. The actor will not reschedule if it exits successfully.
        type: optional<boolean>
      created_at: commons.Timestamp
      started_at: optional<commons.Timestamp>
      destroyed_at: optional<commons.Timestamp>

  Port:
    properties:
      protocol: buildCommons.PortProtocol
      internal_port: optional<integer>
      hostname: optional<string>
      port: optional<integer>
      path: optional<string>
      url:
        docs: |
          Fully formed connection URL including protocol, hostname, port, and path, if applicable.
        type: optional<string>
      routing: buildCommons.PortRouting

  EndpointType:
    enum:
      - hostname
      - path
