[package]
name = "pegboard"
version.workspace = true
authors.workspace = true
license.workspace = true
edition.workspace = true

[features]
default = ["workflows", "ops"]
workflows = ["chirp"]
ops = ["chirp"]
chirp = ["chirp-workflow", "sqlx", "nix", "server-spec"]

[dependencies]
chirp-workflow = { workspace = true, optional = true }
nix = { version = "0.27", default-features = false, features = ["user", "signal"], optional = true }
serde = { version = "1.0.198", features = ["derive"] }
serde_json = "1.0.132"
strum = { version = "0.24", features = ["derive"] }
thiserror = "1.0"
util.workspace = true
uuid = "1.11.0"

server-spec = { workspace = true, optional = true }
rivet-config.workspace = true

[dependencies.sqlx]
optional = true
workspace = true
default-features = false
features = [ "json", "ipnetwork" ]
