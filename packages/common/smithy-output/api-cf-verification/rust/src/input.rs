// Code generated by software.amazon.smithy.rust.codegen.smithy-rs. DO NOT EDIT.
use std::fmt::Write;
/// See [`VerifyCustomHostnameInput`](crate::input::VerifyCustomHostnameInput)
pub mod verify_custom_hostname_input {
	/// A builder for [`VerifyCustomHostnameInput`](crate::input::VerifyCustomHostnameInput)
	#[non_exhaustive]
	#[derive(std::default::Default, std::clone::Clone, std::cmp::PartialEq, std::fmt::Debug)]
	pub struct Builder {
		pub(crate) identifier: std::option::Option<std::string::String>,
	}
	impl Builder {
		#[allow(missing_docs)] // documentation missing in model
		pub fn identifier(mut self, input: impl Into<std::string::String>) -> Self {
			self.identifier = Some(input.into());
			self
		}
		#[allow(missing_docs)] // documentation missing in model
		pub fn set_identifier(mut self, input: std::option::Option<std::string::String>) -> Self {
			self.identifier = input;
			self
		}
		/// Consumes the builder and constructs a [`VerifyCustomHostnameInput`](crate::input::VerifyCustomHostnameInput)
		pub fn build(
			self,
		) -> std::result::Result<
			crate::input::VerifyCustomHostnameInput,
			aws_smithy_http::operation::BuildError,
		> {
			Ok(crate::input::VerifyCustomHostnameInput {
				identifier: self.identifier,
			})
		}
	}
}
#[doc(hidden)]
pub type VerifyCustomHostnameInputOperationOutputAlias = crate::operation::VerifyCustomHostname;
#[doc(hidden)]
pub type VerifyCustomHostnameInputOperationRetryAlias = ();
impl VerifyCustomHostnameInput {
	/// Consumes the builder and constructs an Operation<[`VerifyCustomHostname`](crate::operation::VerifyCustomHostname)>
	#[allow(unused_mut)]
	#[allow(clippy::let_and_return)]
	#[allow(clippy::needless_borrow)]
	pub async fn make_operation(
		&self,
		_config: &crate::config::Config,
	) -> std::result::Result<
		aws_smithy_http::operation::Operation<crate::operation::VerifyCustomHostname, ()>,
		aws_smithy_http::operation::BuildError,
	> {
		let mut request = {
			fn uri_base(
				_input: &crate::input::VerifyCustomHostnameInput,
				output: &mut String,
			) -> Result<(), aws_smithy_http::operation::BuildError> {
				let input_1 = &_input.identifier;
				let input_1 = input_1.as_ref().ok_or(
					aws_smithy_http::operation::BuildError::MissingField {
						field: "identifier",
						details: "cannot be empty or unset",
					},
				)?;
				let identifier = aws_smithy_http::label::fmt_string(input_1, false);
				if identifier.is_empty() {
					return Err(aws_smithy_http::operation::BuildError::MissingField {
						field: "identifier",
						details: "cannot be empty or unset",
					});
				}
				write!(
					output,
					"/.well-known/cf-custom-hostname-challenge/{identifier}",
					identifier = identifier
				)
				.expect("formatting should succeed");
				Ok(())
			}
			#[allow(clippy::unnecessary_wraps)]
			fn update_http_builder(
				input: &crate::input::VerifyCustomHostnameInput,
				_config: &crate::config::Config,
				builder: http::request::Builder,
			) -> std::result::Result<http::request::Builder, aws_smithy_http::operation::BuildError>
			{
				let mut _uri = String::new();
				_uri = format!("{}{}", _config.uri.clone(), _uri);
				uri_base(input, &mut _uri)?;
				Ok(builder.method("GET").uri(_uri))
			}
			let mut builder = update_http_builder(&self, _config, http::request::Builder::new())?;
			let mut builder = if let Some(auth) = &_config.auth {
				builder.header(http::header::AUTHORIZATION, auth.clone())
			} else {
				builder
			};
			builder
		};
		let mut properties = aws_smithy_http::property_bag::SharedPropertyBag::new();
		#[allow(clippy::useless_conversion)]
		let body = aws_smithy_http::body::SdkBody::from("");
		let request = request.body(body).expect("should be valid request");
		let mut request = aws_smithy_http::operation::Request::from_parts(request, properties);
		request
			.properties_mut()
			.insert(aws_smithy_http::http_versions::DEFAULT_HTTP_VERSION_LIST.clone());
		let op = aws_smithy_http::operation::Operation::new(
			request,
			crate::operation::VerifyCustomHostname::new(),
		)
		.with_metadata(aws_smithy_http::operation::Metadata::new(
			"VerifyCustomHostname",
			"CfVerificationService",
		));
		Ok(op)
	}
	/// Creates a new builder-style object to manufacture [`VerifyCustomHostnameInput`](crate::input::VerifyCustomHostnameInput)
	pub fn builder() -> crate::input::verify_custom_hostname_input::Builder {
		crate::input::verify_custom_hostname_input::Builder::default()
	}
}

#[allow(missing_docs)] // documentation missing in model
#[non_exhaustive]
#[derive(std::clone::Clone, std::cmp::PartialEq)]
pub struct VerifyCustomHostnameInput {
	#[allow(missing_docs)] // documentation missing in model
	pub identifier: std::option::Option<std::string::String>,
}
impl VerifyCustomHostnameInput {
	#[allow(missing_docs)] // documentation missing in model
	pub fn identifier(&self) -> std::option::Option<&str> {
		self.identifier.as_deref()
	}
}
impl std::fmt::Debug for VerifyCustomHostnameInput {
	fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {
		let mut formatter = f.debug_struct("VerifyCustomHostnameInput");
		formatter.field("identifier", &self.identifier);
		formatter.finish()
	}
}
