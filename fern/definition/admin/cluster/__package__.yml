# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  localCommons: ../common.yml

service:
  auth: true
  base-path: /cluster
  endpoints:
    getServerIps:
      path: /server_ips
      method: GET
      request:
        name: GetServerIpsRequest
        query-parameters:
          server_id: optional<uuid>
          pool: optional<localCommons.PoolType>
      response: GetServerIpsResponse
    create:
      path: /create
      method: POST
      request:
        body: CreateRequest
      response: CreateResponse

types:
  GetServerIpsResponse:
    properties:
      ips: list<string>
  CreateRequest:
    properties:
      name: string
      cluster_id: optional<uuid>
      owner_team_id: optional<uuid>
  CreateResponse:
    properties:
      cluster_id: uuid
