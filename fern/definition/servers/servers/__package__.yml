# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  commons: ../common.yml

service:
  auth: true
  base-path: /servers/servers
  endpoints:
    create:
      path: ""
      method: POST
      docs: Create a new dynamic server.
      request:
        body: CreateRequest
      response: CreateResponse
    destroy:
      path: "/{server_id}"
      method: DELETE
      docs: Destroy a dynamic server.
      path-parameters:
        server_id:
          docs: The id of the server to destroy
          type: uuid
      request:
        body: DestroyRequest

types:
  CreateRequest:
    properties:
      metadata: map<string, unknown>
      cluster:
        docs: The name id of the cluster
        type: string
      datacenter:
        docs: The name id of the datacenter
        type: string
      # resources:
      #   cpu:
      #     docs: The number of CPUs
      #     type: integer
      #   memory:
      #     docs: The amount of memory in MB
      #     type: integer
      kill_timeout: integer
      runtime: commons.Runtime
  CreateResponse:
    properties:
      server: commons.Server
  DestroyRequest:
    properties:
      kill_timeout: optional<integer>