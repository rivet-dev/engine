import { TutorialVideo } from '@/components/TutorialVideo';

# Railway Deployment

Railway provides a simple platform for deploying Rivet Engine with automatic scaling and managed infrastructure.

## Video Tutorial

<TutorialVideo videoId="zk8ODYz8CrI" />

## Quick Deploy

Choose the template that best fits your needs:

<div style={{display: 'table', width: '100%'}}>
  <div style={{display: 'table-row'}}>
    <div style={{display: 'table-cell', width: '50%', textAlign: 'left', padding: '10px', verticalAlign: 'top'}}>
      <div style={{fontWeight: 'bold', marginBottom: '10px'}}>Rivet Template</div>
    </div>
    <div style={{display: 'table-cell', width: '50%', textAlign: 'left', padding: '10px', verticalAlign: 'top'}}>
      <div style={{fontWeight: 'bold', marginBottom: '10px'}}>Rivet Starter</div>
    </div>
  </div>
  <div style={{display: 'table-row'}}>
    <div style={{display: 'table-cell', width: '50%', textAlign: 'center', padding: '10px', verticalAlign: 'top'}}>
      <a href="https://railway.com/deploy/rivet?referralCode=RC7bza&utm_medium=integration&utm_source=template&utm_campaign=generic" target="_blank" rel="noopener noreferrer">
        <img src="https://railway.com/button.svg" alt="Deploy on Railway" style={{height: '40px', width: '200px'}} />
      </a>
    </div>
    <div style={{display: 'table-cell', width: '50%', textAlign: 'center', padding: '10px', verticalAlign: 'top'}}>
      <a href="https://railway.com/deploy/rivet-starter" target="_blank" rel="noopener noreferrer">
        <img src="https://railway.com/button.svg" alt="Deploy Rivet Starter" style={{height: '40px', width: '200px'}} />
      </a>
    </div>
  </div>
</div>
| **Blank template** to start fresh | **Complete example** with chat app |
| - Rivet Engine | - Pre-configured Rivet Engine |
| - PostgreSQL database | - Example chat application with Actors |
| - Basic configuration | - PostgreSQL database |
| - Manual setup required | - Rivet Inspector for debugging |
| | - Ready to run immediately |

You can also use the [Rivet Railway template](https://github.com/rivet-gg/template-railway) as a starting point for your application.

<Note>
After deploying either template, you can find the `RIVET__AUTH__ADMIN_TOKEN` under the **Variables** tab in the Railway dashboard. This token is required to access the Rivet Inspector.
</Note>

## Manual Deployment

### Prerequisites

1. [Railway account](https://railway.app)
2. [Railway CLI](https://docs.railway.app/develop/cli) (optional)

### Step 1: Create New Project

```bash
# Using Railway CLI
railway init

# Or create via dashboard
# https://railway.app/new
```

### Step 2: Add Services

#### Deploy PostgreSQL Database

1. Click "New Service" → "Database" → "PostgreSQL"
2. Railway automatically provisions and configures PostgreSQL
3. Note the connection string from the service variables

#### Deploy Rivet Engine

1. Click "New Service" → "Docker Image"
2. Set image: `rivetkit/engine:latest`
3. Configure environment variables:
    - `RIVET__POSTGRES__URL=${{Postgres.DATABASE_URL}}`

### Step 3: Deploy Your Application

Follow the [Railway Quick Start guide](https://docs.railway.com/quick-start) to deploy your repository:

1. Connect your GitHub account to Railway
2. Select your repository containing your Rivet application
3. Railway will automatically detect and deploy your application
4. Configure environment variables for your application:
    - `RIVET_ENGINE=${{Rivet.RAILWAY_PRIVATE_DOMAIN}}` - Points to the Rivet Engine service's private domain

